function insertAtCursor(t,e){var n,o,s,l=t.scrollTop,c=document.documentElement.scrollTop;document.selection?(t.focus(),(n=document.selection.createRange()).text=e,n.select()):t.selectionStart||"0"==t.selectionStart?(o=t.selectionStart,s=t.selectionEnd,t.value=t.value.substring(0,o)+e+t.value.substring(s,t.value.length),t.focus(),t.selectionStart=o+e.length,t.selectionEnd=o+e.length):(t.value+=e,t.focus()),t.scrollTop=l,document.documentElement.scrollTop=c}$(function(){0<$("#wmd-button-row").length&&($("#wmd-button-row").append('<li class="wmd-spacer wmd-spacer1"></li><li class="wmd-button" id="wmd-photoset-button" style="" title="插入图集">图集</li>'),$("#wmd-button-row").append('<li class="wmd-spacer wmd-spacer1"></li><li class="wmd-button" id="wmd-owo-button" style="" title="插入表情"><span style="width:unset" class="OwO"></span></li>'),new OwO({logo:"OωO",container:document.getElementsByClassName("OwO")[0],target:document.getElementById("text"),api:"https://cdn.jsdelivr.net/gh/monsterxcn/MyBucket/owoEmoji/owo.json",position:"down",width:"400px",maxHeight:"250px"})),$(document).on("click","#wmd-photoset-button",function(){myField=document.getElementById("text"),insertAtCursor(myField,"\n\n[photos]\n\n[/photos]\n\n")})});